"""
# é¢˜ç›®2ï¼šLinuxè·¯å¾„æ¨¡æ‹Ÿï¼ˆpwdä¸cdæ“ä½œï¼‰
## é—®é¢˜æè¿°
åœ¨Linuxç³»ç»Ÿä¸­ï¼Œè·¯å¾„ç®¡ç†ä¾èµ–`pwd`ï¼ˆæ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•ï¼‰å’Œ`cd`ï¼ˆåˆ‡æ¢å·¥ä½œç›®å½•ï¼‰ä¸¤ç§åŸºç¡€æ“ä½œã€‚ç°éœ€ç¼–å†™ç¨‹åºï¼Œæ¨¡æ‹Ÿè¿™ä¸¤ç§æ“ä½œçš„æ‰§è¡Œè¿‡ç¨‹ï¼Œæ ¹æ®è¾“å…¥çš„æ“ä½œåºåˆ—ï¼Œè¾“å‡ºæ¯æ¬¡`pwd`æ“ä½œå¯¹åº”çš„å½“å‰å·¥ä½œç›®å½•è·¯å¾„ã€‚

### æ ¸å¿ƒè§„åˆ™
1. **åˆå§‹è·¯å¾„**ï¼šç¨‹åºå¯åŠ¨æ—¶ï¼Œå½“å‰å·¥ä½œç›®å½•é»˜è®¤ä¸ºæ ¹ç›®å½• `/`ã€‚
2. **æ“ä½œç±»å‹**ï¼šä»…æ”¯æŒä¸¤ç§æ“ä½œï¼Œæ— å…¶ä»–éæ³•æ“ä½œï¼š
   - `pwd`ï¼šè¾“å‡ºå½“å‰å·¥ä½œç›®å½•çš„å®Œæ•´è·¯å¾„ã€‚
   - `cd xx`ï¼šåˆ‡æ¢å·¥ä½œç›®å½•ï¼Œå…¶ä¸­`xx`ä¸ºç›®æ ‡è·¯å¾„ï¼Œæ ¼å¼å›ºå®šä¸º`./dir/`ï¼ˆä¸€å®šä»¥`./`å¼€å¤´ã€ä»¥`/`ç»“å°¾ï¼‰ï¼Œå…·ä½“è§„åˆ™å¦‚ä¸‹ï¼š
     - è·¯å¾„ä¸­çš„`.`è¡¨ç¤ºâ€œå½“å‰ç›®å½•â€ï¼Œåˆ‡æ¢åè·¯å¾„ä¸å˜ï¼ˆå¦‚`cd ./`ç­‰ä»·äºä¸åˆ‡æ¢ï¼‰ã€‚
     - è·¯å¾„ä¸­çš„`..`è¡¨ç¤ºâ€œä¸Šä¸€çº§ç›®å½•â€ï¼Œè‹¥å½“å‰ç›®å½•ä¸ºæ ¹ç›®å½•ï¼Œæ‰§è¡Œ`cd ./../`åä»ä¿æŒæ ¹ç›®å½•ã€‚
     - è·¯å¾„ä¸­çš„é`.`ã€é`..`éƒ¨åˆ†ä¸ºåˆæ³•ç›®å½•åï¼ˆä¸å«ç©ºæ ¼ï¼‰ï¼Œåˆ‡æ¢æ—¶éœ€å°†è¯¥ç›®å½•æ·»åŠ åˆ°å½“å‰è·¯å¾„çš„å±‚çº§ä¸­ã€‚
3. **è·¯å¾„è¾“å‡ºæ ¼å¼**ï¼š
   - æ ¹ç›®å½•è¾“å‡ºä¸º `/`ã€‚
   - éæ ¹ç›®å½•è¾“å‡ºéœ€ä»¥ `/` å¼€å¤´ã€ä»¥ `/` ç»“å°¾ï¼Œå±‚çº§é—´ç”¨ `/` åˆ†éš”ï¼ˆå¦‚`/home/test/`ï¼‰ã€‚


## è¾“å…¥æ ¼å¼
1. ç¬¬ä¸€è¡Œè¾“å…¥ä¸€ä¸ªæ•´æ•° `n`ï¼ˆ`1 â‰¤ n â‰¤ 100`ï¼‰ï¼Œè¡¨ç¤ºåç»­è¾“å…¥çš„æ“ä½œæ€»æ¡æ•°ã€‚
2. æ¥ä¸‹æ¥ `n` è¡Œï¼Œæ¯è¡Œè¾“å…¥ä¸€ä¸ªæ“ä½œï¼Œä»…ä¸ºä»¥ä¸‹ä¸¤ç§å½¢å¼ä¹‹ä¸€ï¼š
   - å•ç‹¬çš„ `pwd` å­—ç¬¦ä¸²ã€‚
   - `cd xx` æ ¼å¼çš„å­—ç¬¦ä¸²ï¼ˆ`xx` ä¸ºç›®æ ‡è·¯å¾„ï¼Œç¬¦åˆ`./dir/`æ ¼å¼ï¼Œç›®å½•åˆæ³•ä¸”ä¸å«ç©ºæ ¼ï¼Œ`dir`å¯ä¸ºç›®å½•åã€`..`ï¼Œè‹¥`dir`ä¸ºç©ºåˆ™è·¯å¾„ä¸º`./`ï¼‰ã€‚


## è¾“å‡ºæ ¼å¼
æ¯é‡åˆ°ä¸€æ¬¡ `pwd` æ“ä½œï¼Œå°±è¾“å‡ºä¸€è¡Œå½“å‰å·¥ä½œç›®å½•çš„å®Œæ•´è·¯å¾„ï¼Œè·¯å¾„æ ¼å¼éœ€ä¸¥æ ¼éµå¾ªæ ¸å¿ƒè§„åˆ™ä¸­çš„â€œè·¯å¾„è¾“å‡ºæ ¼å¼â€è¦æ±‚ã€‚


## è¾“å…¥ç¤ºä¾‹
```
9
pwd
cd ./home/test/
pwd
cd ./
pwd
cd ./../
pwd
cd ./../../../../
pwd
```

## è¾“å‡ºç¤ºä¾‹
```
/
/home/test/
/home/test/
/home/
/
```


## è§£é¢˜æ€è·¯æç¤º
1. ç”¨æ•°ç»„ï¼ˆåˆ—è¡¨ï¼‰å­˜å‚¨å½“å‰è·¯å¾„çš„å±‚çº§ç»“æ„ï¼ˆå¦‚`/home/test/`å¯¹åº”æ•°ç»„`['home', 'test']`ï¼‰ï¼Œæ ¹ç›®å½•å¯¹åº”ç©ºæ•°ç»„ã€‚
2. å¤„ç†`cd`æ“ä½œæ—¶ï¼š
   - å°†ç›®æ ‡è·¯å¾„æŒ‰ `/` åˆ†å‰²ï¼ˆå¦‚`./home/test/`åˆ†å‰²åå¾—åˆ°`['.', 'home', 'test', '']`ï¼‰ã€‚
   - éå†åˆ†å‰²åçš„æ¯ä¸ªéƒ¨åˆ†ï¼šé‡åˆ°`.`è·³è¿‡ï¼Œé‡åˆ°`..`ä¸”æ•°ç»„éç©ºåˆ™åˆ é™¤æœ€åä¸€ä¸ªå…ƒç´ ï¼Œé‡åˆ°éç©ºéç‰¹æ®Šå­—ç¬¦åˆ™æ·»åŠ åˆ°æ•°ç»„ã€‚
3. å¤„ç†`pwd`æ“ä½œæ—¶ï¼š
   - è‹¥æ•°ç»„ä¸ºç©ºï¼ˆæ ¹ç›®å½•ï¼‰ï¼Œç›´æ¥è¾“å‡º `/`ã€‚
   - è‹¥æ•°ç»„éç©ºï¼Œæ‹¼æ¥æˆ`/` + æ•°ç»„å…ƒç´ ç”¨`/`è¿æ¥ + `/`çš„æ ¼å¼ï¼ˆå¦‚`['home','test']`æ‹¼æ¥ä¸º`/home/test/`ï¼‰ã€‚
"""


def run_tests(func, test_cases):
    """é€šç”¨æµ‹è¯•æ‰§è¡Œå™¨"""
    passed = 0
    total = len(test_cases)
    print(f"å¼€å§‹æµ‹è¯•ï¼Œå…± {total} ä¸ªæµ‹è¯•ç”¨ä¾‹\n")

    for case_idx, (input_ops, expected_outputs) in enumerate(test_cases, 1):
        try:
            result = func(input_ops)
            if result == expected_outputs:
                passed += 1
                print(f"æµ‹è¯•ç”¨ä¾‹ {case_idx}: âœ… é€šè¿‡")
            else:
                print(f"æµ‹è¯•ç”¨ä¾‹ {case_idx}: âŒ å¤±è´¥")
                print(f"  è¾“å…¥æ“ä½œ: {input_ops}")
                print(f"  é¢„æœŸè¾“å‡º: {expected_outputs}")
                print(f"  å®é™…è¾“å‡º: {result}")
        except Exception as e:
            print(f"æµ‹è¯•ç”¨ä¾‹ {case_idx}: âš ï¸ å¼‚å¸¸")
            print(f"  è¾“å…¥æ“ä½œ: {input_ops}")
            print(f"  é”™è¯¯ä¿¡æ¯: {str(e)}")
        finally:
            print("-" * 80)

    print(f"\næµ‹è¯•æ€»ç»“: {passed}/{total} ç”¨ä¾‹é€šè¿‡")
    print("ğŸ‰ å…¨éƒ¨é€šè¿‡ï¼" if passed == total else "ğŸ’¡ è¯·æ ¹æ®å¤±è´¥ä¿¡æ¯ä¿®æ­£ä»£ç ")


def simulate_linux_path(operations: list[str]):
    paths, res = list(), list()
    paths.append("/")

    def pwd():
        res.append("".join(paths))

    def cd(source_path: str):
        for path in source_path.split('/'):
            if path == '.' or path == '/' or path == '':
                pass
            elif path == '..':
                if len(paths) > 1:
                    paths.pop()
            else:
                paths.append(path + '/')

    for path in operations[1::]:
        if path.startswith('pwd'):
            pwd()
        if path.startswith('cd'):
            cd(path.split('cd')[1].strip())
    return res


# æµ‹è¯•ç”¨ä¾‹è®¾è®¡ï¼ˆè¦†ç›–å„ç§åœºæ™¯ï¼‰
test_cases = [
    # æµ‹è¯•ç”¨ä¾‹1: é¢˜ç›®ç¤ºä¾‹
    (
        [
            '9',
            'pwd',
            'cd ./home/test/',
            'pwd',
            'cd ./',
            'pwd',
            'cd ./../',
            'pwd',
            'cd ./../../../../',
            'pwd'
        ],
        ['/', '/home/test/', '/home/test/', '/home/', '/']
    ),

    # æµ‹è¯•ç”¨ä¾‹2: æ ¹ç›®å½•ä¸‹cd ..ï¼ˆè¾¹ç•Œæƒ…å†µï¼‰
    (
        [
            '3',
            'pwd',
            'cd ./../',
            'pwd'
        ],
        ['/', '/']
    ),

    # æµ‹è¯•ç”¨ä¾‹3: å¤šçº§ç›®å½•åˆ‡æ¢
    (
        [
            '6',
            'pwd',
            'cd ./a/',
            'cd ./b/',
            'cd ./c/',
            'pwd',
            'cd ../../',
            'pwd'
        ],
        ['/', '/a/b/c/', '/a/']
    ),

    # æµ‹è¯•ç”¨ä¾‹4: è¿ç»­åˆ‡æ¢å’Œè¿”å›
    (
        [
            '5',
            'cd ./x/',
            'cd ./y/',
            'cd ../z/',
            'pwd',
            'cd ../../../',
            'pwd'
        ],
        ['/x/z/', '/']
    ),

    # æµ‹è¯•ç”¨ä¾‹5: ä»…pwdæ“ä½œ
    (
        [
            '2',
            'pwd',
            'pwd'
        ],
        ['/', '/']
    ),

    # æµ‹è¯•ç”¨ä¾‹6: å¤æ‚è·¯å¾„ï¼ˆå«å¤šä¸ª.å’Œ..ï¼‰
    (
        [
            '4',
            'cd ./dir1/./dir2/../dir3/',
            'pwd',
            'cd ../.././dir4/',
            'pwd'
        ],
        ['/dir1/dir3/', '/dir4/']
    )
]

if __name__ == "__main__":
    run_tests(simulate_linux_path, test_cases)
